emotes::install_version("Matrix", version = "1.6.3")
remotes::install_version("Matrix", version = "1.6.3")
install.packages("lme4", type = "source")  # 1.1.35.1
remotes::install_version("Matrix", version = "1.6.4")
library(lme4)
library(metagear)
install.packages("gasanalyzer")
library(gasanalyzer)
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL Castilleja Experimental Project")
library(tidyverse)#for data wrangling and restructuring
library(statmod)
library(lme4)#for modeling linear mixed effect models
library(emmeans)#post-hoc analysis
library(car)#for regression analysis
library(performance)#this is new
library(see)#this is new
library(lmerTest)
library(patchwork)
library(rstatix)
library(sjPlot)
library(ggcharts)
library(ggthemes)
library(ggplot2)
library(ggpubr)
#Diversity and Cover data file (combined in excel)
litter <- read.csv("Raw Data/Foliar Analysis - litter.csv")
senescence <- read.csv("Raw Data/Foliar Analysis - senescence.csv")
tissue <- read.csv("Raw Data/Foliar Analysis - tissue.csv")
#------------Plant Litter Bag Nutrient Analysis -----------#
lit.cn.lm <- lm(cn_ratio ~ litter_bag, data = litter)
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL Castilleja Experimental Project")
library(tidyverse)#for data wrangling and restructuring
library(statmod)
library(lme4)#for modeling linear mixed effect models
library(emmeans)#post-hoc analysis
library(car)#for regression analysis
library(performance)#this is new
library(see)#this is new
library(lmerTest)
library(patchwork)
library(rstatix)
library(sjPlot)
library(ggcharts)
library(ggthemes)
library(ggplot2)
library(ggpubr)
#Diversity and Cover data file (combined in excel)
litter <- read.csv("Raw Data/Foliar Analysis - litter.csv")
senescence <- read.csv("Raw Data/Foliar Analysis - senescence.csv")
tissue <- read.csv("Raw Data/Foliar Analysis - tissue.csv")
View(senescence)
View(tissue)
#------------Plant Litter Bag Nutrient Analysis -----------#
#Total Nitrogen
n.litter.lm <- lm(total_n ~ litter_bag, data = litter)
summary(n.litter.lm)
Anova(n.litter.lm)
n.senescence.lm <- lm(total_n ~ treatment, data = senescence)
summary(n.senescence.lm)
Anova(n.senescence.lm)
n.tissue.lm <- lm(total_n ~ organ, data = tissue)
summary(n.tissue.lm)
Anova(n.tissue.lm)
#Total Carbon
c.litter.lm <- lm(total_c ~ litter_bag, data = litter)
summary(n.litter.lm)
Anova(n.litter.lm)
c.senescence.lm <- lm(total_c ~ treatment, data = senescence)
summary(n.senescence.lm)
Anova(n.senescence.lm)
c.tissue.lm <- lm(total_c ~ organ, data = tissue)
summary(n.tissue.lm)
Anova(n.tissue.lm)
View(senescence)
#Carbon to Nitrogen Ratio
cn.litter.lm <- lm(cn_ratio ~ litter_bag, data = litter)
summary(n.litter.lm)
Anova(n.litter.lm)
cn.senescence.lm <- lm(cn_ratio ~ treatment, data = senescence)
summary(n.senescence.lm)
Anova(n.senescence.lm)
cn.tissue.lm <- lm(cn_ratio ~ organ, data = tissue)
summary(n.tissue.lm)
Anova(n.tissue.lm)
#Phosphorus (P)
p.litter.lm <- lm(cn_ratio ~ litter_bag, data = litter)
summary(n.litter.lm)
Anova(n.litter.lm)
p.senescence.lm <- lm(cn_ratio ~ treatment, data = senescence)
summary(n.senescence.lm)
Anova(n.senescence.lm)
#Potassium (K)
k.litter.lm <- lm(cn_ratio ~ litter_bag, data = litter)
summary(k.litter.lm)
Anova(k.litter.lm)
k.senescence.lm <- lm(cn_ratio ~ treatment, data = senescence)
summary(k.senescence.lm)
Anova(k.senescence.lm)
k.tissue.lm <- lm(cn_ratio ~ organ, data = tissue)
summary(k.tissue.lm)
Anova(k.tissue.lm)
#Phosphorus (P)
p.litter.lm <- lm(cn_ratio ~ litter_bag, data = litter)
summary(p.litter.lm)
Anova(p.litter.lm)
p.senescence.lm <- lm(cn_ratio ~ treatment, data = senescence)
summary(p.senescence.lm)
Anova(p.senescence.lm)
p.tissue.lm <- lm(cn_ratio ~ organ, data = tissue)
summary(p.tissue.lm)
Anova(p.tissue.lm)
#Carbon to Nitrogen Ratio (C/N)
cn.litter.lm <- lm(cn_ratio ~ litter_bag, data = litter)
summary(cn.litter.lm)
Anova(cn.litter.lm)
cn.senescence.lm <- lm(cn_ratio ~ treatment, data = senescence)
summary(cn.senescence.lm)
Anova(cn.senescence.lm)
cn.tissue.lm <- lm(cn_ratio ~ organ, data = tissue)
summary(cn.tissue.lm)
Anova(cn.tissue.lm)
#Total Carbon (C)
c.litter.lm <- lm(total_c ~ litter_bag, data = litter)
summary(c.litter.lm)
Anova(c.litter.lm)
c.senescence.lm <- lm(total_c ~ treatment, data = senescence)
summary(c.senescence.lm)
Anova(c.senescence.lm)
c.tissue.lm <- lm(total_c ~ organ, data = tissue)
summary(c.tissue.lm)
Anova(c.tissue.lm)
#------------Plant Litter Bag Nutrient Analysis -----------#
#Total Nitrogen (N)
n.litter.lm <- lm(total_n ~ litter_bag, data = litter)
summary(n.litter.lm)
Anova(n.litter.lm)
n.senescence.lm <- lm(total_n ~ treatment, data = senescence)
summary(n.senescence.lm)
Anova(n.senescence.lm)
n.tissue.lm <- lm(total_n ~ organ, data = tissue)
summary(n.tissue.lm)
Anova(n.tissue.lm)
View(litter)
#statplotting
install.packages('ggstatsplot')
cn.litter.plot <- ggbetweenstats(
data = litter,
x = litter_bag,
y = cn_ratio
)
cn.litter.plot <- ggbetweenstats(
data = litter,
x = litter_bag,
y = cn_ratio
)
library(ggstatsplot)
library(ggstatsplot)
cn.litter.plot <- ggbetweenstats(
data = litter,
x = litter_bag,
y = cn_ratio
)
cn.litter.plot
cn.litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = p)
cn.litter.plot
cn.litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = k)
cn.litter.plot
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = k)
litter.plot
tissue.plot <- ggbetweenstats(data = tissue, x = organ, y = k)
tissue.plot
tissue.plot <- ggbetweenstats(data = tissue, x = organ, y = n)
tissue.plot
tissue.plot <- ggbetweenstats(data = tissue, x = organ, y = tota_n)
tissue.plot
tissue.plot <- ggbetweenstats(data = tissue, x = organ, y = total_n)
tissue.plot
senescence.plot <- ggbetweenstats(data = senescence, x = treatment, y = total_n)
senescence.plot
senescence.plot <- ggbetweenstats(data = senescence, x = treatment, y = p)
senescence.plot
senescence.plot <- ggbetweenstats(data = senescence, x = treatment, y = k)
senescence.plot
senescence.plot <- ggbetweenstats(data = senescence, x = treatment, y = cn_ratio)
senescence.plot
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = k)
litter.plot
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = total_n)
litter.plot
ggdotplotstats(data = litter, x = litter_bag, y = total_n)
ggdotplotstats(data = litter, x = litter_bag, y = total_n)
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = k)
litter.plot
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = p)
litter.plot
tissue.plot <- ggbetweenstats(data = tissue, x = organ, y = p)
tissue.plot
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = p)
litter.plot
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = k)
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = k)
litter.plot
#Multivariate
#-------------------------Multivariate analysis-------------------------#
library(ggrepel)
library(vegan)
library(ggordiplots)
View(litter)
#plot data
litter.info <- subset(litter, select = c('lab_id','total_n','total_c','p','k'))
View(litter.info)
litter.matrix <- matrify(litter.info)
library(vegan)
library(labdsv)#enables restructuring for ecological analysis
#plot data
litter.info <- subset(litter, select = c('lab_id','total_n','total_c','p','k'))
litter.matrix <- matrify(litter.info)
#calculate distance matrix
litter.bags <-vegdist(litter.info, method="bray")
#plot data
litter.info <- subset(litter, select = c('total_n','total_c','p','k')
litter.matrix <- matrify(litter.info)
#plot data
litter.info <- subset(litter, select = c('total_n','total_c','p','k')
litter.matrix <- matrify(litter.info)
litter.matrix <- matrify(litter.info)
#calculate distance matrix
litter.bags <-vegdist(litter.info, method="bray")
#---------------Data importing, cleaning, and resctructuring---------------#
library(tidyverse)#for data wrangling and restructuring
library(magrittr)#for data wrangling and restructuring
library(plyr)#for data wrangling and restructuring
library(conflicted)#helps reslove errors for similar functions between packages
library(rstatix)
#Declare conflicts
conflicts_prefer(rstatix::filter)
#load in cover data
cover.pre <- read.csv("Emerald Lake Plant Data - pre.csv")
cover.23 <- read.csv("Emerald Lake Plant Data - 2023.csv")
cover.24 <- read.csv("Emerald Lake Plant Data - 2024.csv")
setwd("~/Desktop/Castilleja/Data Analysis/RMBL/Emerald Lake/Plant Data")
#---------------Data importing, cleaning, and resctructuring---------------#
library(tidyverse)#for data wrangling and restructuring
library(magrittr)#for data wrangling and restructuring
library(plyr)#for data wrangling and restructuring
library(conflicted)#helps reslove errors for similar functions between packages
library(rstatix)
#Declare conflicts
conflicts_prefer(rstatix::filter)
#load in cover data
cover.pre <- read.csv("Emerald Lake Plant Data - pre.csv")
cover.23 <- read.csv("Emerald Lake Plant Data - 2023.csv")
cover.24 <- read.csv("Emerald Lake Plant Data - 2024.csv")
cover.25 <- read.csv("Emerald Lake Plant Data - 2025.csv")
#combine datasets
cover.comb <- rbind.fill(cover.pre,cover.23,cover.24,cover.25)
cover.comb <- as.data.frame(unclass(cover.comb),stringsAsFactors=TRUE)
#remove castilleja and environmental rows for analysis
cover.comb.clean <- cover.comb[!(cover.comb$functional_group %in% "environmental"),]
cover.comb.clean <- cover.comb.clean[!(cover.comb.clean$code %in% "CASE"),]
comb.cov <- subset(cover.comb.clean, select = c('year','plot','code','percent_cover'))
#filter for year/pre and calculate
emerald.pre <- comb.cov %>%
filter (year == "Pre") %>%
select(-c(year))
emerald.23 <- comb.cov %>%
filter (year == "2023") %>%
select(-c(year))
emerald.24 <- comb.cov %>%
filter (year == "2024") %>%
select(-c(year))
emerald.25 <- comb.cov %>%
filter (year == "2025") %>%
select(-c(year))
#convert to matrix format for diversity calculations
library(labdsv)#enables restructuring for ecological analysis
emerald.pre.matrix <- matrify(emerald.pre)
View(emerald.pre.matrix)
View(emerald.pre)
litter %>%
pivot_longer(names_to = "Nutrient", values_to = "quantity")
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL Castilleja Experimental Project")
library(tidyverse)#for data wrangling and restructuring
library(statmod)
library(lme4)#for modeling linear mixed effect models
library(emmeans)#post-hoc analysis
library(car)#for regression analysis
library(performance)#this is new
library(see)#this is new
library(lmerTest)
library(patchwork)
library(rstatix)
library(sjPlot)
library(ggcharts)
library(ggthemes)
library(ggplot2)
library(ggpubr)
#Diversity and Cover data file (combined in excel)
litter <- read.csv("Raw Data/Foliar Analysis - litter.csv")
senescence <- read.csv("Raw Data/Foliar Analysis - senescence.csv")
tissue <- read.csv("Raw Data/Foliar Analysis - tissue.csv")
#Multivariate
#-------------------------Multivariate analysis-------------------------#
library(ggrepel)
library(vegan)
library(ggordiplots)
library(labdsv)#enables restructuring for ecological analysis
litter %>%
pivot_longer(names_to = "Nutrient", values_to = "quantity")
litter %>%
subset(cover.comb.clean, select = c('lab_id','total_n', 'total_c', 'p', 'k')) %>%
pivot_longer( names_to = "Nutrient", values_to = "quantity")
litter %>%
subset(select = c('lab_id','total_n', 'total_c', 'p', 'k')) %>%
pivot_longer( names_to = "Nutrient", values_to = "quantity")
litter %>%
subset(select = c('lab_id','total_n', 'total_c', 'p', 'k')) %>%
pivot_longer(cols=c(total_n,total_c,p,k), names_to = "Nutrient", values_to = "quantity")
litter.long <- litter %>%
subset(select = c('lab_id','total_n', 'total_c', 'p', 'k')) %>%
pivot_longer(cols=c(total_n,total_c,p,k), names_to = "nutrient", values_to = "quantity")
View(litter.long)
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL Castilleja Experimental Project")
library(tidyverse)#for data wrangling and restructuring
library(statmod)
library(lme4)#for modeling linear mixed effect models
library(emmeans)#post-hoc analysis
library(car)#for regression analysis
library(performance)#this is new
library(see)#this is new
library(lmerTest)
library(patchwork)
library(rstatix)
library(sjPlot)
library(ggcharts)
library(ggthemes)
library(ggplot2)
library(ggpubr)
#Diversity and Cover data file (combined in excel)
litter <- read.csv("Raw Data/Foliar Analysis - litter.csv")
senescence <- read.csv("Raw Data/Foliar Analysis - senescence.csv")
tissue <- read.csv("Raw Data/Foliar Analysis - tissue.csv")
litter.plot <- ggbetweenstats(data = litter, x = litter_bag, y = cn)
litter.plot
#Multivariate
#-------------------------Multivariate analysis-------------------------#
library(ggrepel)
library(vegan)
library(ggordiplots)
library(labdsv)#enables restructuring for ecological analysis
litter.long <- litter %>%
subset(select = c('lab_id','total_n', 'total_c', 'p', 'k')) %>%
pivot_longer(cols=c(total_n,total_c,p,k), names_to = "nutrient", values_to = "quantity")
litter.long <- litter %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
pivot_longer(cols=c(total_n,total_c,p,k), names_to = "nutrient", values_to = "quantity")
litter.long <- litter %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
pivot_longer(cols=c(n,c,p,k), names_to = "nutrient", values_to = "quantity")
View(litter.long)
litter.matrix <- matrify(litter.long)
str(litter.long)
litter.long <- litter %>%
mutate(lab_id = as.character(lab_id)) %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
pivot_longer(cols=c(n,c,p,k), names_to = "nutrient", values_to = "quantity")
conflicted::conflicts_prefer(plyr::mutate)
conflicts_prefer(plyr::mutate)
litter.long <- litter %>%
mutate(lab_id = as.character(lab_id)) %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
pivot_longer(cols=c(n,c,p,k), names_to = "nutrient", values_to = "quantity")
litter.matrix <- matrify(litter.long)
str(litter.long)
litter.long <- litter %>%
mutate(lab_id = as.character(lab_id)) %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
pivot_longer(cols=c(n,c,p,k), names_to = "nutrient", values_to = "quantity") %>%
mutate(quantity = as.numeric(quantity))
str(litter.long)
litter.matrix <- matrify(litter.long)
setwd("~/Desktop/Castilleja/Data Analysis/RMBL/Emerald Lake/Plant Data")
#---------------Data importing, cleaning, and resctructuring---------------#
library(tidyverse)#for data wrangling and restructuring
library(magrittr)#for data wrangling and restructuring
library(plyr)#for data wrangling and restructuring
library(conflicted)#helps reslove errors for similar functions between packages
library(rstatix)
#Declare conflicts
conflicts_prefer(rstatix::filter)
#load in cover data
cover.pre <- read.csv("Emerald Lake Plant Data - pre.csv")
cover.23 <- read.csv("Emerald Lake Plant Data - 2023.csv")
cover.24 <- read.csv("Emerald Lake Plant Data - 2024.csv")
cover.25 <- read.csv("Emerald Lake Plant Data - 2025.csv")
#combine datasets
cover.comb <- rbind.fill(cover.pre,cover.23,cover.24,cover.25)
cover.comb <- as.data.frame(unclass(cover.comb),stringsAsFactors=TRUE)
#remove castilleja and environmental rows for analysis
cover.comb.clean <- cover.comb[!(cover.comb$functional_group %in% "environmental"),]
cover.comb.clean <- cover.comb.clean[!(cover.comb.clean$code %in% "CASE"),]
comb.cov <- subset(cover.comb.clean, select = c('year','plot','code','percent_cover'))
#filter for year/pre and calculate
emerald.pre <- comb.cov %>%
filter (year == "Pre") %>%
select(-c(year))
emerald.23 <- comb.cov %>%
filter (year == "2023") %>%
select(-c(year))
emerald.24 <- comb.cov %>%
filter (year == "2024") %>%
select(-c(year))
emerald.25 <- comb.cov %>%
filter (year == "2025") %>%
select(-c(year))
str(emerald.pre)
litter.long <- litter %>%
mutate(lab_id = as.character(lab_id)) %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
pivot_longer(cols=c(n,c,p,k), names_to = "nutrient", values_to = "quantity") %>%
mutate(nutrient = as.factor(nutrient))
str(litter.long)
litter.matrix <- matrify(litter.long)
conflicts_prefer(plyr::mutate)
litter.long <- litter %>%
mutate(lab_id = as.integer(lab_id)) %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
pivot_longer(cols=c(n,c,p,k), names_to = "nutrient", values_to = "quantity") %>%
mutate(nutrient = as.factor(nutrient))
str(litter.long)
litter.matrix <- matrify(litter.long)
litter.long <- litter %>%
mutate(lab_id = as.factor(lab_id)) %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
pivot_longer(cols=c(n,c,p,k), names_to = "nutrient", values_to = "quantity") %>%
mutate(nutrient = as.factor(nutrient))
str(litter.long)
litter.matrix <- matrify(litter.long)
litter.matrix <- litter %>%
mutate(lab_id = as.factor(lab_id)) %>%
subset(select = c('lab_id','n', 'c', 'p', 'k')) %>%
mutate(nutrient = as.factor(nutrient))
litter.matrix <- litter %>%
mutate(lab_id = as.factor(lab_id)) %>%
subset(select = c('lab_id','n', 'c', 'p', 'k'))
