emotes::install_version("Matrix", version = "1.6.3")
remotes::install_version("Matrix", version = "1.6.3")
install.packages("lme4", type = "source")  # 1.1.35.1
remotes::install_version("Matrix", version = "1.6.4")
library(lme4)
library(metagear)
install.packages("gasanalyzer")
library(gasanalyzer)
install.packages(c("boot", "Matrix"))
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL Castilleja Observational Project")
#Packages
library(tidyverse)#for data wrangling and restructuring
library(flextable)#table creation and formatting
library(conflicted)#settle package conflicts
library(gtsummary)#to make summary tables for models
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL Castilleja Observational Project")
#load in relevant packages
library(tidyverse)#for data wrangling and restructuring
library(statmod)
library(lme4)#for modeling linear mixed effect models
library(emmeans)#post-hoc analysis
library(car)#for regression analysis
library(performance)#this is new
library(see)#this is new
library(lmerTest)
library(patchwork)
library(rstatix)
#Diversity and Cover data file (combined in excel)
castilleja.cover <- read.csv("Processed Data/castilleja cover complete.csv")
castilleja.cover$castilleja[castilleja.cover$castilleja == "Control"] <- "Absent"
castilleja.cover$castilleja[castilleja.cover$castilleja == "Castilleja"] <- "Present"
castilleja.cover <- as.data.frame(unclass(castilleja.cover),stringsAsFactors=TRUE)
#Diversity Analysis
div <- lmer(div ~ castilleja*species + castilleja*year + (1|pair) + (1|site), data = castilleja.cover)
conflicted::conflicts_prefer(lme4::lmer)
#Diversity Analysis
div <- lmer(div ~ castilleja*species + castilleja*year + (1|pair) + (1|site), data = castilleja.cover)
summary(div)
#Diversity Analysis
div <- lmer(div ~ castilleja*species + castilleja*year + (1|pair) + (1|site), data = castilleja.cover)
summary(div)
Anova(div)
emmip(div, ~ castilleja ~ year)
emmeans(div, pairwise ~ castilleja|year)
emmeans(div, pairwise ~ castilleja|species)
#Summary Output
div %>%
tbl_regression(div)
#Summary Output
div %>%
tbl_regression(div)
library(gtsummary)
#Summary Output
div %>%
tbl_regression(div)
#Summary Output
div %>%
gtsummary::tbl_regression(div)
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL Castilleja Observational Project")
#load in relevant packages
library(tidyverse)#for data wrangling and restructuring
library(statmod)
library(lme4)#for modeling linear mixed effect models
library(emmeans)#post-hoc analysis
library(car)#for regression analysis
library(performance)#this is new
library(see)#this is new
library(lmerTest)
library(patchwork)
library(rstatix)
library(gtsummary)
#Diversity and Cover data file (combined in excel)
castilleja.cover <- read.csv("Processed Data/castilleja cover complete.csv")
castilleja.cover$castilleja[castilleja.cover$castilleja == "Control"] <- "Absent"
castilleja.cover$castilleja[castilleja.cover$castilleja == "Castilleja"] <- "Present"
castilleja.cover <- as.data.frame(unclass(castilleja.cover),stringsAsFactors=TRUE)
#Diversity Analysis
div <- lmer(div ~ castilleja*species + castilleja*year + (1|pair) + (1|site), data = castilleja.cover)
summary(div)
Anova(div)
emmip(div, ~ castilleja ~ year)
emmeans(div, pairwise ~ castilleja|year)
rich <- lmer(rich ~ castilleja*species + castilleja*year + (1|pair) + (1|site), data = castilleja.cover)
summary(rich)
Anova(rich)
emmip(rich, castilleja ~ year)
emmeans(rich, pairwise ~ species|year)
even <- lmer(even ~ castilleja*species + castilleja*year + (1|pair) + (1|site), data = castilleja.cover)
summary(even)
Anova(even)
emmip(even, castilleja ~ year)
emmeans(even, pairwise ~ castilleja|year)
#Summary Output
div %>%
tbl_regression(div)
install.packages("sjPlot")
library(sjPlot)
#Diversity Analysis
div <- lmer(div ~ castilleja*species + castilleja*year + (1|pair) + (1|site), data = castilleja.cover)
summary(div)
Anova(div)
emmip(div, ~ castilleja ~ year)
emmeans(div, pairwise ~ castilleja|year)
#Summary Output
tab_model(div)
#Summary Output
tab_model(div)
tab_model(rich)
tab_model(even)
tab_model(rich)
#Summary Output
tab_model(div, p.val = "kr", show.df = TRUE)
#Summary Output
div.table <- tab_model(div, p.val = "kr", show.df = TRUE)
rich.table <- tab_model(rich, p.val = "kr", show.df = TRUE)
even.table <- tab_model(even, p.val = "kr", show.df = TRUE)
View(rich.table)
#Summary Output
tab_model(div, p.val = "kr", show.df = TRUE)
#Summary Output
tab_model(div, p.val = "kr", show.df = TRUE)
tab_model(rich, p.val = "kr", show.df = TRUE)
tab_model(even, p.val = "kr", show.df = TRUE)
#--------------------------Nearest Neighbor Analysis---------------------------#
#
#
library(ggplot2)
library(ggpubr)
library(hrbrthemes)
case.nn <- read.csv("NN - Case.csv")
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU")
#load in relevant packages
library(tidyverse)#for data wrangling and restructuring
library(statmod)
library(lme4)#for modeling linear mixed effect models
library(emmeans)#post-hoc analysis
library(car)#for regression analysis
library(performance)#this is new
library(see)#this is new
library(lmerTest)
library(patchwork)
library(ggpubr)
library(rstatix)
castilleja.cover <- read.csv("castilleja cover complete.csv")
castilleja.cover$castilleja[castilleja.cover$castilleja == "Control"] <- "Absent"
castilleja.cover$castilleja[castilleja.cover$castilleja == "Castilleja"] <- "Present"
castilleja.cover <- as.data.frame(unclass(castilleja.cover),stringsAsFactors=TRUE)
#--------------------------Nearest Neighbor Analysis---------------------------#
#
#
library(ggplot2)
library(ggpubr)
library(hrbrthemes)
#--------------------------Nearest Neighbor Analysis---------------------------#
#
#
library(ggplot2)
library(ggpubr)
library(hrbrthemes)
case.nn <- read.csv("NN - Case.csv")
case.nn$rel_abund_cover <- case.nn$rel_abund_cover / 100
case.nn$NN_freq <- case.nn$NN_freq / 100
case.nn <- as.data.frame(unclass(case.nn),stringsAsFactors=TRUE)
case.nn$year <- factor(case.nn$year)
cali.nn <- read.csv("NN - Cali.csv")
cali.nn$rel_abund_cover <- cali.nn$rel_abund_cover / 100
cali.nn$NN_freq <- cali.nn$NN_freq / 100
cali.nn <- as.data.frame(unclass(cali.nn),stringsAsFactors=TRUE)
cali.nn$year <- factor(cali.nn$year)
cacr.nn <- read.csv("NN - Cacr.csv")
cacr.nn$rel_abund_cover <- cacr.nn$rel_abund_cover / 100
cacr.nn$NN_freq <- cacr.nn$NN_freq / 100
cacr.nn <- as.data.frame(unclass(cacr.nn),stringsAsFactors=TRUE)
cacr.nn$year <- factor(cacr.nn$year)
emerald.nn <- filter(case.nn, site == "Emerald Lake")
emerald.lm <- lm(NN_freq ~ rel_abund_cover, data = emerald.nn)
emerald.nn <- filter(case.nn, site == "Emerald Lake")
conflicted::conflicts_prefer(rstatix::filter)
emerald.nn <- filter(case.nn, site == "Emerald Lake")
emerald.lm <- lm(NN_freq ~ rel_abund_cover, data = emerald.nn)
emerald.predict <- as.data.frame(predict(emerald.lm, newdata = emerald.nn, interval = "prediction", level = 0.95))
View(emerald.predict)
EL.nn <- cbind(emerald.nn, emerald.predict)
avery.nn <- filter(case.nn, site == "Avery")
avery.lm <- lm(NN_freq ~ rel_abund_cover, data = avery.nn)
summary(avery.lm)
summary(emerald.lm)
