emotes::install_version("Matrix", version = "1.6.3")
remotes::install_version("Matrix", version = "1.6.3")
install.packages("lme4", type = "source")  # 1.1.35.1
remotes::install_version("Matrix", version = "1.6.4")
library(lme4)
library(metagear)
#Set the working directory
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU")
#load in relevant packages
library(plyr)#for data wrangling and restructuring
library(tidyverse)#for data wrangling and restructuring
library(statmod)
adonis2(cali.dist~castilleja*pair*, data = cali.NMDS, permutations=999)
adonis2(cali.dist~castilleja*pair, data = cali.NMDS, permutations=999)
#Set the working directory
setwd("/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU")
#load in relevant packages
library(plyr)#for data wrangling and restructuring
library(tidyverse)#for data wrangling and restructuring
library(statmod)
#Import Datasets: We will be using the 23_24 Combined dataset for our analysis
case.cover <- read.csv("Case Cover 23_24 Combined - Cover.csv")
cali.cover <- read.csv("Cali Cover 23_24 Combined - Cover.csv")
#---------------------------species count data analysis------------------------#
# Our key question here is looking at the differences between functional groups and key speices
case.23.count <- read.csv("Case 2023 - Individuals.csv")
case.24.count <- read.csv("Case 2024 - Individuals.csv")
cali.23.count <- read.csv("Cali 2023 - Individuals.csv")
cali.24.count <- read.csv("Cali 2024 - Individuals.csv")
#combining datesets by castilleja species
case.count <- rbind.fill(case.23.count,case.24.count)
cali.count <- rbind.fill(cali.23.count,cali.24.count)
View(cali.count)
cali.count[is.na(cali.count)] <- 0
case.count[is.na(cali.count)] <- 0
case.count[is.na(case.count)] <- 0
View(cali.count)
#combining datesets by castilleja species
case.count <- rbind.fill(case.23.count,case.24.count)
cali.count <- rbind.fill(cali.23.count,cali.24.count)
cali.count[is.na(cali.count)] <- 0
case.count[is.na(case.count)] <- 0
View(case.count)
View(case.count)
View(cali.count)
str
str(cali.count)
cali.count.long<- pivot_longer(cali.count, cols = Agastache.urticifolia:Viola.adunca,
names_to = "species",
values_to = "counts")
View(cali.count.long)
str(case.count)
case.count.long<- pivot_longer(case.count, cols = Achnatherum.sp.:Vicia.americana,
names_to = "species",
values_to = "counts")
View(case.count)
View(case.count.long)
View(case.count.long)
write.csv(case.count.long, "/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU/Combined linariifolia Counts.csv", row.names=FALSE)
write.csv(case.count.long, "/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU/combined septentrionalis counts.csv", row.names=FALSE)
write.csv(cali.count.long, "/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU/combined linariifolia counts.csv", row.names=FALSE)
write.csv(cali.count.long, "/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU/combined linariifolia counts.csv", row.names=FALSE)
#Removing 0s from dateset
case.count.long <- filter(case.count.long, count > 0)
cali.count.long <- filter(cali.count.long, count > 0)
View(case.count.long)
#Removing 0s from dateset
case.count.long <- filter(case.count.long, counts > 0)
cali.count.long <- filter(cali.count.long, counts > 0)
write.csv(case.count.long, "/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU/combined septentrionalis counts.csv", row.names=FALSE)
write.csv(cali.count.long, "/Users/jargrett/Desktop/Castilleja/Data Analysis/RMBL/Observational REU/combined linariifolia counts.csv", row.names=FALSE)
case.counts <- read.csv("combined septentrionalis counts - sheet1.csv")
cali.counts <- read.csv("combined linariifolia counts - sheet1.csv")
View(cali.counts)
str(cali.counts)
cali.counts$site <- as.factor(cali.counts$site)
cali.counts$year <- as.factor(cali.counts$year)
cali.counts$castilleja <- as.factor(cali.counts$castilleja)
cali.counts$species <- as.factor(cali.counts$species)
cali.counts$functional_group <- cali.counts(cali.long$functional_group)
case.counts$site <- as.factor(case.counts$site)
case.counts$year <- as.factor(case.counts$year)
case.counts$castilleja <- as.factor(case.counts$castilleja)
case.counts$species <- as.factor(case.counts$species)
case.counts$functional_group <- as.factor(case.counts$functional_group)
cali.counts$functional_group <- cali.counts(cali.long$functional_group)
View(cali.counts)
cali.counts$functional_group <- as.factor(cali.counts$functional_group)
case.counts$functional_group <- as.factor(case.counts$functional_group)
case.pair.counts <- case.counts %>%
pivot_wider(names_from = castilleja,
values_from = c(counts)) %>% drop_na()
View(case.pair.counts)
case.pair.counts <- case.counts %>%
pivot_wider(names_from = castilleja,
values_from = c(counts)) %>% drop_na() %>%
filter(if_any(species, ~ !(.x %in% c("Bare.ground"))))
case.species.counts = subset(case.counts, select = -c(2,4,6,10))
cali.species.counts = subset(cali.counts, select = -c(2,4,6,10))
case.pair.counts <- cali.species.counts %>%
pivot_wider(names_from = castilleja,
values_from = c(counts)) %>% drop_na() %>%
filter(if_any(species, ~ !(.x %in% c("Bare.ground"))))
View(case.pair.counts)
case.pair.counts <- cali.species.counts %>%
pivot_wider(names_from = castilleja,
values_from = c(counts)) %>% drop_na()
case.pair.counts <- case.species.counts %>%
pivot_wider(names_from = castilleja,
values_from = c(counts)) %>% drop_na()
cali.pair.counts <- cali.species.counts %>%
pivot_wider(names_from = castilleja,
values_from = c(counts)) %>% drop_na()
summary(cali.species.counts)
LALA.pair <- case.pair%>% filter (species == "Lathyrus.lanszwertii")
LALA.pair <- cali.pair.counts %>% filter (species == "Lathyrus.lanszwertii")
t.test(LALA.pair$Castilleja, FRVI.pair$Control,#higher in Castilleja plots by 2%, p = 0.006285
paired = TRUE,
conf.level = 0.95)
t.test(LALA.pair$Castilleja, LALA.pair$Control,#higher in Castilleja plots by 2%, p = 0.006285
paired = TRUE,
conf.level = 0.95)
LALA.pair <- cali.pair.counts %>% filter (species == "Eremogone.congesta")
t.test(LALA.pair$Castilleja, LALA.pair$Control,#higher in Castilleja plots by 2%, p = 0.006285
paired = TRUE,
conf.level = 0.95)
LALA.pair <- cali.pair.counts %>% filter (species == "Delphinum.nuttalliianum")
t.test(LALA.pair$Castilleja, LALA.pair$Control,#higher in Castilleja plots by 2%, p = 0.006285
paired = TRUE,
conf.level = 0.95)
LALA.pair <- cali.pair.counts %>% filter (species == "Koeleria.macrantha")
t.test(LALA.pair$Castilleja, LALA.pair$Control,#higher in Castilleja plots by 2%, p = 0.006285
paired = TRUE,
conf.level = 0.95)
LALA.pair <- cali.pair.counts %>% filter (species == "Fragaria.virginiana")
t.test(LALA.pair$Castilleja, LALA.pair$Control,#higher in Castilleja plots by 2%, p = 0.006285
paired = TRUE,
conf.level = 0.95)
Fragaria.virginiana
