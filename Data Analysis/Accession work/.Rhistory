emotes::install_version("Matrix", version = "1.6.3")
remotes::install_version("Matrix", version = "1.6.3")
install.packages("lme4", type = "source")  # 1.1.35.1
remotes::install_version("Matrix", version = "1.6.4")
library(lme4)
library(metagear)
install.packages("gasanalyzer")
library(gasanalyzer)
# Download_Occurrence_Data_Updated.R
# ---------------------------------------------------------------
# Purpose: Download and preview species occurrence records using iDigBio and gatoRs.
# Created by ML Gaynor
# ---------------------------------------------------------------
setwd("~/Desktop/Castilleja/Data Analysis/Accession work")
## ---- Load Required Packages ----
library(ridigbio)     # Interface to iDigBio API
library(gatoRs)       # Unified taxonomic/occurrence tools
library(leaflet)      # Interactive mapping
# Search for specific species (Galax urceolata)
iDigBio_GU <- idig_search_records(rq = list(scientificname = "Macranthera flammea")) #rq = research query
# Search for all Diapensiaceae occurrences (limit to 1000 for example)
iDigBio_GU_family <- idig_search_records(rq = list(family = "Scrophulariaceae", "Orobanchaceae"), limit = 1000)
# Search for all Diapensiaceae occurrences (limit to 1000 for example)
iDigBio_GU_family <- idig_search_records(rq = list(family = "Orobanchaceae"), limit = 1000)
iDigBio_GU_family <- idig_search_records(rq = list(family = "Scrophulariaceae"), limit = 1000)
# Search for all Diapensiaceae occurrences (limit to 1000 for example)
iDigBio_GU_family <- idig_search_records(rq = list(family = "Orobanchaceae"), limit = 1000)
# Search with a geographic bounding box (e.g., eastern USA extent)
rq_input <- list(
scientificname = list(type = "exists"),
family = "Orobanchaceae",
geopoint = list(
type = "geo_bounding_box",
top_left = list(lon = 37.57, lat = -102.74),
bottom_right = list(lon = 26.03, lat = -74.09)
)
)
iDigBio_GU_family_USA <- idig_search_records(rq_input, limit = 1000)
# Search with a geographic bounding box (e.g., eastern USA extent)
rq_input <- list(
scientificname = list(type = "exists"),
family = "Orobanchaceae",
geopoint = list(
type = "geo_bounding_box",
top_left = list(lon = 37.57, lat = -102.74),
bottom_right = list(lon = 26.03, lat = -74.09)
)
)
iDigBio_GU_family_USA <- idig_search_records(rq_input, limit = 1000)
# Download_Occurrence_Data_Updated.R
# ---------------------------------------------------------------
# Purpose: Download and preview species occurrence records using iDigBio and gatoRs.
# Created by ML Gaynor
# ---------------------------------------------------------------
setwd("~/Desktop/Castilleja/Data Analysis/Accession work")
## ---- Load Required Packages ----
library(ridigbio)     # Interface to iDigBio API
library(gatoRs)       # Unified taxonomic/occurrence tools
library(leaflet)      # Interactive mapping
# Search for specific species (Galax urceolata)
iDigBio_GU <- idig_search_records(rq = list(scientificname = "Macranthera flammea")) #rq = research query
# Search for all Diapensiaceae occurrences (limit to 1000 for example)
iDigBio_GU_family <- idig_search_records(rq = list(family = "Orobanchaceae"), limit = 1000)
# Search with a geographic bounding box (e.g., eastern USA extent)
rq_input <- list(
scientificname = list(type = "exists"),
family = "Orobanchaceae",
geopoint = list(
type = "geo_bounding_box",
top_left = list(lon = 37.57, lat = -102.74),
bottom_right = list(lon = 26.03, lat = -74.09)
)
)
iDigBio_GU_family_USA <- idig_search_records(rq_input, limit = 1000)
View(iDigBio_GU_family)
# Search with a geographic bounding box (e.g., eastern USA extent)
rq_input <- list(
scientificname = list(type = "exists"),
family = "orobanchaceae",
geopoint = list(
type = "geo_bounding_box",
top_left = list(lon = 37.57, lat = -102.74),
bottom_right = list(lon = 26.03, lat = -74.09)
)
)
iDigBio_GU_family_USA <- idig_search_records(rq_input, limit = 1000)
View(iDigBio_GU_family)
# Search with a geographic bounding box (e.g., eastern USA extent)
rq_input <- list(
scientificname = list(type = "exists"),
family = "Orobanchaceae",
geopoint = list(
type = "geo_bounding_box",
top_left = list(lon = 37.57, lat = -102.74),
bottom_right = list(lon = 26.03, lat = -74.09)
)
)
iDigBio_GU_family_USA <- idig_search_records(rq_input, limit = 1000)
# Search with a geographic bounding box (e.g., eastern USA extent)
rq_input <- list(
scientificname = list(type = "exists"),
family = "Orobanchaceae",
geopoint = list(
type = "geo_bounding_box",
top_left = list(lon = 37.99616267972814, lat = -97.73437500000001),
bottom_right = list(lon = 25.799891182088334, lat = -71.36718750000001)
)
)
iDigBio_GU_family_USA <- idig_search_records(rq_input, limit = 1000)
View(iDigBio_GU_family)
View(iDigBio_GU_family)
View(iDigBio_GU_family)
# Search for all Diapensiaceae occurrences (limit to 1000 for example)
iDigBio_GU_family <- idig_search_records(rq = list(family = "Orobanchaceae"))
# Search with a geographic bounding box (e.g., eastern USA extent)
rq_input <- list(
scientificname = list(type = "exists"),
family = "Orobanchaceae",
geopoint = list(
type = "geo_bounding_box",
top_left = list(lat = 37.99616267972814, lon = -97.73437500000001),
bottom_right = list(lat = 25.799891182088334, lon = -71.36718750000001)
)
)
iDigBio_GU_family_USA <- idig_search_records(rq_input, limit = 1000)
# Save iDigBio results as CSV
write.csv(iDigBio_GU, "iDigBio_MF_2025_06_27.csv", row.names = FALSE) #Name csv pull with source_species_date
write.csv(iDigBio_GU_family, "iDigBio_GU_Oro_2025_06_27.csv", row.names = FALSE)
View(iDigBio_GU)
View(iDigBio_GU_family_USA)
View(iDigBio_GU)
